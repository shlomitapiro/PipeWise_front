<Page x:Class="PipeWiseClient.Views.PipelinePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Pipelines">
  <DockPanel Margin="10">
    <!-- סרגל עליון: חיפוש + בחירת קובץ להרצה -->
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,8">
      <TextBox x:Name="SearchBox" Width="220" Margin="0,0,8,0" />
      <Button Content="רענן" Width="90" Click="Refresh_Click"/>
      <Separator Width="12"/>
      <TextBox x:Name="RunFilePathBox" Width="300" IsReadOnly="True" Margin="0,0,6,0" />
      <Button Content="בחר קובץ להרצה" Width="140" Click="ChooseRunFile_Click"/>
    </StackPanel>

    <!-- רשימת פייפליינים -->
    <ListView x:Name="PipelinesList" SelectedIndex="0">
      <ListView.View>
        <GridView>
          <GridViewColumn Header="שם" DisplayMemberBinding="{Binding name}" Width="200"/>
          <GridViewColumn Header="תיאור" DisplayMemberBinding="{Binding description}" Width="300"/>
          <GridViewColumn Header="סטטוס אחרון" DisplayMemberBinding="{Binding last_status}" Width="130"/>
        </GridView>
      </ListView.View>
    </ListView>

    <!-- פעולות -->
    <StackPanel DockPanel.Dock="Bottom" Orientation="Horizontal" Margin="0,8,0,0">
      <Button Content="הרץ נבחר" Width="110" Click="RunSelected_Click"/>
      <Button Content="מחק" Width="90" Margin="8,0,0,0" Click="DeleteSelected_Click"/>
    </StackPanel>
  </DockPanel>
</Page>
